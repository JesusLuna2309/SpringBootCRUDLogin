<!DOCTYPE html>
<html lang="es">
   <head>
      <title>Gestor | Insertar cliente</title>
      <link
         href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
         rel="stylesheet"
         integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
         crossorigin="anonymous" />
      <script
         src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
         integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
         crossorigin="anonymous"></script>
      <link rel="icon"
         href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>游녻</text></svg>" />
      <!-- estilo editado -->
      <style>
         .b-example-divider {
         height: 3rem;
         background-color: rgba(0, 0, 0, 0.1);
         border: solid rgba(0, 0, 0, 0.15);
         border-width: 1px 0;
         box-shadow: inset 0 0.5em 1.5em rgba(0, 0, 0, 0.1), inset 0 0.125em
         0.5em rgba(0, 0, 0, 0.15);
         }
         body {
         scrollbar-gutter: stable;
         overflow: auto
         }
         .form-control-dark {
         color: #fff;
         background-color: var(--bs-dark);
         border-color: var(--bs-gray);
         }
         .form-control-dark:focus {
         color: #fff;
         background-color: var(--bs-dark);
         border-color: #fff;
         box-shadow: 0 0 0 0.25rem rgba(255, 255, 255, 0.25);
         }
         .bi {
         vertical-align: -0.125em;
         fill: currentColor;
         }
         .text-small {
         font-size: 85%;
         }
         .dropdown-toggle {
         outline: 0;
         }
      </style>
      <script type="text/javascript">
         function validarDni() {
         	const dni = document.getElementById("nif").value;
         	const dniPattern = /^\d{8}[A-Za-z]$/; // Expresi칩n regular para verificar 8 n칰meros seguidos de una letra
         
         	if (!dniPattern.test(dni)) {
         		alert("El DNI es inv치lido. Debe tener 8 n칰meros seguidos de una letra.");
         		return false; // Prevenir el env칤o del formulario si el DNI no es v치lido
         	}
         
         	return true; // Permitir el env칤o del formulario si el DNI es v치lido
         }
         
         // Funci칩n para validar el correo electr칩nico
         function validarEmail() {
         	const email = document.getElementById("email").value;
         	const emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/; // Expresi칩n regular para verificar el formato del correo
         
         	if (!emailPattern.test(email)) {
         		alert("El correo electr칩nico no es v치lido. Debe tener el formato: usuario@email.com");
         		return false; // Prevenir el env칤o del formulario si el correo no es v치lido
         	}
         
         	return true; // Permitir el env칤o del formulario si el correo es v치lido
         }
         
         // Funci칩n para validar el tel칠fono
         function validarTelefono() {
         	const telefono = document.getElementById("numeroContacto").value;
         	const telefonoPattern = /^[0-9]{9}$/; // Expresi칩n regular para verificar 9 d칤gitos
         
         	if (!telefonoPattern.test(telefono)) {
         		alert("El tel칠fono no es v치lido. Debe tener 9 d칤gitos.");
         		return false; // Prevenir el env칤o del formulario si el tel칠fono no es v치lido
         	}
         
         	return true; // Permitir el env칤o del formulario si el tel칠fono es v치lido
         }
         
         // Funci칩n para validar la edad
         function validarEdad() {
         	const fechaNacimiento = new Date(document
         			.getElementById("anyoNacimiento").value);
         	const edad = new Date().getFullYear() - fechaNacimiento.getFullYear();
         
         	if (edad > 120) {
         		alert("La persona no puede tener m치s de 120 a침os.");
         		return false; // Prevenir el env칤o del formulario si la edad es mayor de 120 a침os
         	} else if (edad < 18) {
         		alert("La persona no puede tener menos de 18 a침os.");
         		return false; // Prevenir el env칤o del formulario si la edad es menor de 18 a침os
         	}
         
         	return true; // Permitir el env칤o del formulario si la edad es v치lida
         }
         
         // Funci칩n para validar todos los campos
         function validarFormulario(event) {
         	if (!validarDni() || !validarEmail() || !validarTelefono()
         			|| !validarEdad()) {
         		event.preventDefault(); // Previene el env칤o del formulario si hay errores
         	}
         }
      </script>
   </head>
   <body>
      <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
         <symbol id="home" viewBox="0 0 16 16">
            <path
               d="M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4.5a.5.5 0 0 0 .5-.5v-4h2v4a.5.5 0 0 0 .5.5H14a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146zM2.5 14V7.707l5.5-5.5 5.5 5.5V14H10v-4a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v4H2.5z"></path>
         </symbol>
         <symbol id="empleados" viewBox="0 0 16 16">
            <path
               d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816zM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275zM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" />
         </symbol>
         <symbol id="icono" viewBox="0 0 16 16">
            <path fill-rule="evenodd"
               d="M14.763.075A.5.5 0 0 1 15 .5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V14h-1v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V10a.5.5 0 0 1 .342-.474L6 7.64V4.5a.5.5 0 0 1 .276-.447l8-4a.5.5 0 0 1 .487.022zM6 8.694 1 10.36V15h5V8.694zM7 15h2v-1.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5V15h2V1.309l-7 3.5V15z" />
            <path
               d="M2 11h1v1H2v-1zm2 0h1v1H4v-1zm-2 2h1v1H2v-1zm2 0h1v1H4v-1zm4-4h1v1H8V9zm2 0h1v1h-1V9zm-2 2h1v1H8v-1zm2 0h1v1h-1v-1zm2-2h1v1h-1V9zm0 2h1v1h-1v-1zM8 7h1v1H8V7zm2 0h1v1h-1V7zm2 0h1v1h-1V7zM8 5h1v1H8V5zm2 0h1v1h-1V5zm2 0h1v1h-1V5zm0-2h1v1h-1V3z" />
         </symbol>
         <symbol id="proyecto" viewBox="0 0 16 16">
            <path
               d="M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1V2zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5H2zm13-3H1v2h14V2zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z" />
         </symbol>
         <symbol id="insertar" viewBox="0 0 16 16">
            <path
               d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
            <path
               d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z" />
         </symbol>
         <symbol id="modificar" viewBox="0 0 16 16">
            <path
               d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z" />
         </symbol>
         <symbol id="eliminar" viewBox="0 0 16 16">
            <path
               d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z" />
            <path fill-rule="evenodd"
               d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z" />
         </symbol>
         <symbol id="busqueda" viewBox="0 0 16 16">
            <path
               d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z" />
         </symbol>
         <symbol id="volver" viewBox="0 0 16 16">
            <path fill-rule="evenodd"
               d="M14.5 1.5a.5.5 0 0 1 .5.5v4.8a2.5 2.5 0 0 1-2.5 2.5H2.707l3.347 3.346a.5.5 0 0 1-.708.708l-4.2-4.2a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 8.3H12.5A1.5 1.5 0 0 0 14 6.8V2a.5.5 0 0 1 .5-.5z" />
         </symbol>
      </svg>
      <main>
         <header>
            <!-- common header -->
            <div class="px-3 py-2 bg-dark text-white">
               <div class="container">
                  <div
                     class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
                     <a th:href="@{index}"
                        class="d-flex text-white text-decoration-none">
                        <svg
                           class="bi d-block mx-auto mb-1" width="24" height="24">
                           <use xlink:href="#icono"></use>
                        </svg>
                     </a>
                     <a th:href="@{index}"
                        class="d-flex ms-2 me-lg-auto text-white text-decoration-none">
                     Gestor de empresa </a>
                     <ul
                        class="nav col-12 col-lg-auto my-2 justify-content-center my-md-0 text-small">
                        <li>
                           <a th:href="@{index}" class="nav-link text-white">
                              <svg
                                 class="bi d-block mx-auto mb-1" width="24" height="24">
                                 <use xlink:href="#home"></use>
                              </svg>
                              Inicio
                           </a>
                        </li>
                        <li>
                           <a th:href="@{/clientesView}"
                              class="nav-link text-secondary">
                              <svg
                                 class="bi d-block mx-auto mb-1" width="24" height="24">
                                 <use xlink:href="#empleados"></use>
                              </svg>
                              Clientes
                           </a>
                        </li>
                        <li>
                           <a th:href="@{/cuentasView}" class="nav-link text-white">
                              <svg class="bi d-block mx-auto mb-1" width="24" height="24">
                                 <use xlink:href="#proyecto"></use>
                              </svg>
                              Cuentas
                           </a>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
            <!-- end of common header -->
            <!-- start of specific header -->
            <div class="px-3 py-2 border-bottom mb-3">
               <div class="container d-flex flex-wrap justify-content-center">
                  <div class="col-12 col-lg-auto mb-2 mb-lg-0 me-lg-auto mt-1">
                     Clientes > <b class="text-black">Insertar cliente</b>
                  </div>
                  <div class="text-end">
                     <a th:href="@{/clientesView}">
                        <button type="button" class="btn btn-primary">
                           <svg class="bi mx-auto me-1" width="16" height="16">
                              <use xlink:href="#volver"></use>
                           </svg>
                           Volver atr치s
                        </button>
                     </a>
                  </div>
               </div>
            </div>
         </header>
         <!-- end of specific header -->
         <!-- start of insertar -->
         <div class="ms-5 me-5">
            <div th:if="${NIFExist}">
               <script>
                  alert("El NIF ya existe en la base de datos.");
               </script>
            </div>
            <div th:if="${NumberExist}">
               <script>
                  alert("El NIF ya existe en la base de datos.");
               </script>
            </div>
            <div th:if="${EmailExist}">
               <script>
                  alert("El NIF ya existe en la base de datos.");
               </script>
            </div>
            <form th:action="@{/actAddCliente}" th:object="${newCliente}"
               method="POST" onsubmit="validarFormulario(event)">
               <div class="form-group form-floating mb-3">
                  <input type="text" class="form-control" th:field="*{nif}" id="nif"
                     placeholder="00000000A" name="nif" required /> <label for="nif">DNI</label>
               </div>
               <div class="form-group form-floating mb-3">
                  <input type="text" class="form-control" th:field="*{nombre}"
                     id="nombre" placeholder="Pepe" name="nombre" required /> <label
                     for="nombre">Nombre</label>
               </div>
               <div class="form-group form-floating mb-3">
                  <input type="text" class="form-control" th:field="*{apellidos}"
                     id="apellidos" placeholder="Garc칤a" name="apellidos" required />
                  <label for="apellidos">Apellidos</label>
               </div>
               <div class="form-group form-floating mb-3">
                  <input type="number" class="form-control"
                     th:field="*{anyoNacimiento}" id="anyoNacimiento"
                     placeholder="1990" name="anyoNacimiento" required /> <label
                     for="anyoNacimiento">A침o de nacimiento</label>
               </div>
               <div class="form-group form-floating mb-3">
                  <input type="text" class="form-control" th:field="*{direccion}"
                     id="direccion" placeholder="Direccion" name="direccion" required />
                  <label for="direccion">Direccion</label>
               </div>
               <div class="form-group form-floating mb-3">
                  <input type="text" class="form-control" th:field="*{email}"
                     id="email" placeholder="pep@gmail.com" name="email" required /> <label
                     for="email">Email</label>
               </div>
               <div class="form-group form-floating mb-3">
                  <input type="number" class="form-control"
                     th:field="*{numeroContacto}" id="numeroContacto"
                     placeholder="957639852" name="numeroContacto" required /> <label
                     for="numeroContacto">Numero de contacto</label>
               </div>
               <div class="d-flex flex-row-reverse .d-inline-flex bd-highlight">
                  <button type="submit" name="btnInsertarEmpleado"
                     id="btnInsertarEmpleado" class="btn btn-success text-white">
                     <span id="btnLoad"
                        class="spinner-border spinner-border-sm visually-hidden"
                        role="status" aria-hidden="true"></span>
                     <svg id="btnIcon" class="bi mx-auto me-1" width="16" height="16">
                        <use xlink:href="#insertar"></use>
                     </svg>
                     Insertar Cliente
                  </button>
               </div>
            </form>
         </div>
         <!-- end of insertar -->
         <!-- start of footer -->
         <!-- end of footer -->
      </main>
   </body>
</html>